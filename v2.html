<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jesus Heals the Blind Man</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: black;
  overflow: hidden;
  font-family: "Josefin Sans", sans-serif;
}

/* Hide both by default */
#video-desktop,
#video-mobile {
  display: none;
}

/* Desktop video: 768px+ */
@media (min-width: 768px) {
  #video-desktop {
    display: block;
    position: fixed;
    top: 50%;
    left: 50%;
    width: 100vw;
    height: 100vh;
    transform: translate(-50%, -50%);
    object-fit: contain; /* keep 1920x1080 visible */
    background: black;
    z-index: 0;
  }
}

/* Mobile video: under 768px */
@media (max-width: 767px) {
  #video-mobile {
    display: block;
    position: fixed;
    top: 50%;
    left: 50%;
    width: 100vw;
    height: 100vh;
    transform: translate(-50%, -50%);
    object-fit: cover;
    background: black;
    z-index: 0;
  }
}

/* Continue Button */
#continue-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: white;
  color: black;
  padding: 10px 12px;
  font-size: 1rem;
  text-decoration: none;
  border: none;
  cursor: pointer;
  opacity: 0;
  transition: opacity 1.5s ease;
  z-index: 3;
}

#continue-btn.show {
  opacity: 1;
}

#continue-btn:hover {
  background: black;
  color: white;
}
</style>
</head>

<body>

<!-- DESKTOP video -->
<video id="video-desktop" controls playsinline muted>
  <source src="videos/V2.mp4" type="video/mp4">
</video>

<!-- MOBILE video -->
<video id="video-mobile" controls playsinline muted>
  <source src="videos/V2.1.mp4" type="video/mp4">
</video>

<a id="continue-btn" href="v3.html">Continue</a>

<script>
const desktopVid = document.getElementById("video-desktop");
const mobileVid = document.getElementById("video-mobile");

const continueBtn = document.getElementById("continue-btn");
let buttonShown = false;

// Pick correct video based on width
const video = window.innerWidth < 768 ? mobileVid : desktopVid;

// Disable the wrong video completely (fix for GitHub Pages)
if (video === desktopVid) {
  mobileVid.pause();
  mobileVid.removeAttribute("src");
  mobileVid.load();
} else {
  desktopVid.pause();
  desktopVid.removeAttribute("src");
  desktopVid.load();
}

// Reset chosen video fully on load
window.addEventListener("load", () => {
  video.pause();
  video.currentTime = 0;
  video.load();
});

// Show the continue button 3 sec before end
video.addEventListener("timeupdate", () => {
  if (!buttonShown && video.duration - video.currentTime <= 3) {
    buttonShown = true;
    continueBtn.classList.add("show");
  }
});
</script>

</body>
</html>
