<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jesus Heals the Blind Man</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: "Josefin Sans", sans-serif;
  font-weight: 500;
  font-style: normal;
  overflow: hidden;
  background: black;
}

/* Hide both by default */
#video-desktop, #video-mobile {
  display: none;
}

/* Desktop / tablet video (768px+) */
@media (min-width: 768px) {
  #video-desktop {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: black;
    transform: translate(-50%, -50%);
  }
}

/* Mobile video (<768px) */
@media (max-width: 767px) {
  #video-mobile {
    display: block;
  }
}

/* Global video styling */
video {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: translate(-50%, -50%);
  z-index: 0;
}

/* Continue button */
#continue-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: white;
  color: black;
  font-size: 1rem;
  padding: 10px 12px;
  border: none;
  cursor: pointer;
  text-decoration: none;
  opacity: 0;
  transition: opacity 1.5s ease;
  z-index: 3;
}

#continue-btn.show {
  opacity: 1;
}

#continue-btn:hover {
  background: black;
  color: white;
}
</style>
</head>
<body>

<!-- Desktop video -->
<video id="video-desktop" class="sceneVideo" controls playsinline muted>
  <source src="videos/V2.mp4" type="video/mp4">
</video>

<!-- Mobile video -->
<video id="video-mobile" class="sceneVideo" controls playsinline muted>
  <source src="videos/V2.1.mp4" type="video/mp4">
</video>

<a id="continue-btn" href="v3.html">Continue</a>

<script>
const desktopVid = document.getElementById("video-desktop");
const mobileVid = document.getElementById("video-mobile");

const continueBtn = document.getElementById("continue-btn");
let buttonShown = false;

// Pick correct video
const video = window.innerWidth < 768 ? mobileVid : desktopVid;

// Disable the OTHER video fully (prevents GitHub Pages bug)
if (video === desktopVid) {
  mobileVid.removeAttribute("src");
  mobileVid.load();
} else {
  desktopVid.removeAttribute("src");
  desktopVid.load();
}

// Reset video completely on load
window.addEventListener("load", () => {
  video.pause();
  video.currentTime = 0;
  video.load(); // FULL restart of the video player
});

// Show the Continue button near the end
video.addEventListener("timeupdate", () => {
  if (!buttonShown && video.duration - video.currentTime <= 3) {
    buttonShown = true;
    continueBtn.classList.add("show");
  }
});
</script>

</body>
</html>
