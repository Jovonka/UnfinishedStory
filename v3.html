<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jesus Heals the Blind Man</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: "Josefin Sans", sans-serif;
  background: black;
  overflow: hidden;
}

/* Hide both by default */
#video-desktop, 
#video-mobile {
  display: none;
}

/* Desktop/tablet */
@media (min-width: 768px) {
  #video-desktop {
    display: block;
  }
}

/* Mobile */
@media (max-width: 767px) {
  #video-mobile {
    display: block;
  }
}

/* Fullscreen video settings */
video {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 100vw;
  height: 100vh;
  transform: translate(-50%, -50%);
  object-fit: contain;  /* keep 1920x1080 perfectly visible */
  background: black;
  z-index: 0;
}

/* Continue Button */
#continue-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: white;
  color: black;
  font-size: 1rem;
  padding: 10px 12px;
  border: none;
  cursor: pointer;
  text-decoration: none;
  opacity: 0;
  transition: opacity 1.5s ease;
  z-index: 3;
}

#continue-btn.show {
  opacity: 1;
}

#continue-btn:hover {
  background: black;
  color: white;
}
</style>
</head>

<body>

<!-- Desktop video -->
<video id="video-desktop" class="sceneVideo" controls playsinline muted>
  <source src="V3.mp4" type="video/mp4">
</video>

<!-- Mobile video -->
<video id="video-mobile" class="sceneVideo" controls playsinline muted>
  <source src="V3.1.mp4" type="video/mp4">
</video>

<a id="continue-btn" href="end.html">Continue</a>

<script>
const desktopVid = document.getElementById("video-desktop");
const mobileVid = document.getElementById("video-mobile");

// Select correct video
const video = window.innerWidth < 768 ? mobileVid : desktopVid;

// Continue button
const continueBtn = document.getElementById("continue-btn");
let buttonShown = false;

// Prevent autoplay; reset to start
window.addEventListener("load", () => {
  video.currentTime = 0;
  video.pause();
});

// Reveal button 3 seconds before end
video.addEventListener("timeupdate", () => {
  if (!buttonShown && video.duration - video.currentTime <= 3) {
    buttonShown = true;
    continueBtn.classList.add("show");
  }
});
</script>

</body>
</html>
